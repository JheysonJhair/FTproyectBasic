<app-header></app-header>

<div class="container mt-5">
  <div class="row mt-5">
    <div class="col-md-4 ml-4 d-flex justify-content-center align-items-center">
      <img
        src="/assets/svg/font.svg"
        class="img-fluid"
        alt="Font Image"
        style="max-width: 100%; height: auto"
      />
    </div>

    <div class="col-md-8" *ngIf="showTable">
      <h3
        class="mt-4 mb-3"
        style="color: #424242; font-weight: bold; font-size: 24px"
      >
        USUARIOS REGISTRADOS
      </h3>
      <div class="table-responsive">
        <table class="table">
          <thead class="table-dark">
            <tr>
              <th scope="col">Usuario</th>
              <th scope="col">Nombre</th>
              <th scope="col">Apellido</th>
              <th scope="col">Correo Electrónico</th>
              <th scope="col">Género</th>
              <th scope="col">Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of users">
              <td>{{ user.dni }}</td>
              <td>{{ user.name }}</td>
              <td>{{ user.lastName }}</td>
              <td>{{ user.email }}</td>
              <td>{{ user.gender }}</td>
              <td>
                <button
                  class="btn btn- btn-sm mr-1"
                  style="margin-right: 10px"
                  (click)="editUser(user)"
                >
                  <i class="fas fa-edit" style="color: #6c63ff"></i>
                </button>
                <button class="btn btn-sm" (click)="deleteUser(user)">
                  <i class="fas fa-trash-alt" style="color: #cb2027"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <button class="btn btn-primary btn-block" (click)="registerUser()">
        Registrar Usuario
      </button>
    </div>
    <div class="col-md-8" *ngIf="showForm">
      <h3
        class="mt-4 mb-3"
        style="color: #424242; font-weight: bold; font-size: 24px"
      >
        REGISTRAR USUARIO
      </h3>
      <form (submit)="onSubmit()" class="row">
        <div class="col-md-6 mb-2">
          <div class="form-group">
            <label>Email:</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><i class="fas fa-envelope" style="margin: 4px;"></i></span>
              </div>
              <input
                type="email"
                class="form-control"
                [(ngModel)]="newUser.email"
                name="email"
                required
              />
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-2">
          <div class="form-group">
            <label>Password:</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><i class="fas fa-lock" style="margin: 4px;"></i></span>
              </div>
              <input
                type="password"
                class="form-control"
                [(ngModel)]="newUser.password"
                name="password"
                required
              />
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-2">
          <div class="form-group">
            <label>Nombre:</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><i class="fas fa-user" style="margin: 4px;"></i></span>
              </div>
              <input
                type="text"
                class="form-control"
                [(ngModel)]="newUser.firstName"
                name="firstName"
                required
              />
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-2">
          <div class="form-group">
            <label>Apellido:</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><i class="fas fa-user" style="margin: 4px;"></i></span>
              </div>
              <input
                type="text"
                class="form-control"
                [(ngModel)]="newUser.surName"
                name="surName"
                required
              />
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-2">
          <div class="form-group">
            <label>DNI:</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><i class="fas fa-id-card" style="margin: 4px;"></i></span>
              </div>
              <input
                type="text"
                class="form-control"
                [(ngModel)]="newUser.dni"
                name="dni"
                required
              />
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-2">
          <div class="form-group">
            <label>Fecha de Nacimiento:</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><i class="fas fa-calendar-alt" style="margin: 4px;"></i></span>
              </div>
              <input
                type="date"
                class="form-control"
                [(ngModel)]="newUser.birthDate"
                name="birthDate"
                required
              />
            </div>
          </div>
        </div>
        <div class="col-md-6 mb-2">
          <div class="form-group">
            <label>Género:</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><i class="fas fa-venus-mars" style="margin: 4px;"></i></span>
              </div>
              <select
                class="form-control"
                [(ngModel)]="newUser.gender"
                name="gender"
                required
              >
                <option value="M">Masculino</option>
                <option value="F">Femenino</option>
              </select>
            </div>
          </div>
        </div>
        <div class="col-md-12">
          <button type="submit" class="btn btn-primary  mt-2">Guardar Usuario</button>
        </div>
      </form>

    </div>
  </div>
</div>
<app-footer></app-footer>
